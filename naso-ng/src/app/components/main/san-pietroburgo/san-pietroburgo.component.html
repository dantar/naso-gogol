<svg class="fullsvg" viewBox="0 0 100 100" (pan)="onPan($event)">

    <defs>
        <g id="pin-visited">
            <circle cx="0" cy="0" r="60" style="fill:#00ccff;"></circle>
        </g>
        <g id="pin-A">
            <image width="106.1088" height="117.83941" preserveAspectRatio="none"
                xlink:href="./assets/Kazan-icon-01.png" id="image74"
                x="-52.120205" y="-56.419712" style="display:inline" />
        </g>
        <g id="pin-B">
            <image width="97.710739" height="123.57143" preserveAspectRatio="none"
                xlink:href="./assets/Nevskij-icon-01.png"
                id="image85" x="-47.921173" y="-59.285713" style="display:inline" />
        </g>
        <g id="pin-C">
            <circle cx="0" cy="0" r="50" style="fill:#fff290;"></circle>
        </g>
        <g id="pin-D">
            <circle cx="0" cy="0" r="50" style="fill:#d40000;"></circle>
        </g>
        <g id="pin-E">
            <circle cx="0" cy="0" r="50" style="fill:#71d400;"></circle>
        </g>
        <g id="pin-F">
            <circle cx="0" cy="0" r="50" style="fill:#fff290;"></circle>
        </g>
        <g id="pin-G">
            <circle cx="0" cy="0" r="50" style="fill:#d40000;"></circle>
        </g>
        <g id="pin-H">
            <circle cx="0" cy="0" r="50" style="fill:#71d400;"></circle>
        </g>
        <g id="pin-I">
            <circle cx="0" cy="0" r="50" style="fill:#fff290;"></circle>
        </g>
    </defs>

    <g style="display:inline" id="layer1">
        <image width="139.72601" height="100" preserveAspectRatio="none" xlink:href="assets/pietroburgo.jpg"
            id="image110" x="-19.863007" y="1.2694414e-08" />
    </g>

    <g style="display:inline" id="layer2">
        <path id="segment" *ngIf="(visits.length > 0) && panEvent" [attr.d]="visitsPathD()"
            style="fill:none;stroke:#00ccff;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1" />
        <use *ngFor="let location of visits" href="#pin-visited" [attr.transform]="visitedStyle(location)"></use>
        <use *ngFor="let location of locations" [attr.href]="'#pin-'+location.name"
            [@location]="locationState(location)" (@location.done)="animationLocationDone($event, location)"
            (click)="clickLocation(location)" (touchstart)="onTouchStart($event, location)"
            (mousedown)="onTouchStart($event, location)" (mouseover)="onOverLocation($event, location)"
            (touchmove)="onOverLocation($event, location)" (pointermove)="onOverLocation($event, location)"></use>
    </g>

</svg>

<app-panino [@dissolve]="breadDissolve" *ngIf="intro" (@dissolve.done)="doneDissolve($event)" (skipped)="introSkipped()"></app-panino>

<app-listen-track *ngIf="track" [track]="track" [@mediaitem]></app-listen-track>
<app-watch-video *ngIf="video" [video]="video" (click)="clickCloseVideo()" [@mediaitem]></app-watch-video>

<div class="panel-menu-list top-right-menu" *ngIf="video">
    <div class="panel-menu-item" (click)="clickCloseVideo()">
        close
    </div>
</div>